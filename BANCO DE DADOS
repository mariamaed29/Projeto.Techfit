CREATE DATABASE IF NOT EXISTS academia CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
USE academia;

-- Tabela de usuários
CREATE TABLE IF NOT EXISTS usuarios (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    senha VARCHAR(255) NOT NULL,
    tipo ENUM('admin', 'cliente') DEFAULT 'cliente',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS produtos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255) NOT NULL,
    descricao TEXT,
    preco DECIMAL(10, 2) NOT NULL,
    imagem VARCHAR(500),
    estoque INT DEFAULT 0,
    ativo TINYINT(1) DEFAULT 1,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- Tabela de Planos
CREATE TABLE IF NOT EXISTS planos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    titulo VARCHAR(255) NOT NULL,
    valor DECIMAL(10, 2) NOT NULL,
    beneficios TEXT NOT NULL,
    duracao ENUM('mensal', 'trimestral', 'semestral', 'anual') DEFAULT 'mensal',
    ativo TINYINT(1) DEFAULT 1,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- Tabela de Assinaturas
CREATE TABLE IF NOT EXISTS assinaturas (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255) NOT NULL,
    telefone VARCHAR(20) NOT NULL,
    email VARCHAR(255) NOT NULL,
    cpf VARCHAR(14) NOT NULL,
    plano_id INT NOT NULL,
    cartao_mascarado VARCHAR(20),
    digito_hash VARCHAR(255),
    validade VARCHAR(7),
    status ENUM('ativa', 'vencida', 'cancelada') DEFAULT 'ativa',
    data_vencimento DATE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (plano_id) REFERENCES planos(id) ON DELETE RESTRICT,
    INDEX idx_email (email),
    INDEX idx_status (status),
    INDEX idx_vencimento (data_vencimento)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- Inserir planos de exemplo
INSERT INTO planos (titulo, valor, beneficios, duracao) VALUES
('TecFit Start', 129.90, 'Acesso livre\nAvaliação física inicial', 'mensal'),
('TecFit Plus', 109.90, 'Treino personalizado\n1 bioimpedância', 'trimestral'),
('TecFit Premium', 99.90, 'Personal online\n2 avaliações', 'semestral'),
('TecFit Black', 89.90, 'Tudo incluso\nMimos exclusivos (camiseta, eventos, nutricionista)', 'anual'),
('TecFit Family', 249.90, 'Até 3 pessoas\nDescontos progressivos\nTreinos em grupo', 'mensal'),
('TecFit Corporate', 79.90, 'Plano corporativo\nAvaliação anual gratuita', 'mensal');

-- Inserir produtos de exemplo
INSERT INTO produtos (nome, descricao, preco, imagem, estoque) VALUES
('Whey Protein 1kg', 'Proteína de alto valor biológico para ganho de massa muscular', 89.90, 'https://via.placeholder.com/300x200?text=Whey+Protein', 50),
('Creatina 300g', 'Creatina monohidratada pura para aumento de força e performance', 59.90, 'https://via.placeholder.com/300x200?text=Creatina', 30),
('BCAA 120 cápsulas', 'Aminoácidos essenciais para recuperação muscular', 49.90, 'https://via.placeholder.com/300x200?text=BCAA', 40),
('Coqueteleira 600ml', 'Coqueteleira com misturador de mola', 19.90, 'https://via.placeholder.com/300x200?text=Coqueteleira', 100),
('Luvas de Treino', 'Luvas acolchoadas para proteção durante treinos', 39.90, 'https://via.placeholder.com/300x200?text=Luvas', 60),
('Camiseta TecFit', 'Camiseta dry-fit para treinos', 49.90, 'https://via.placeholder.com/300x200?text=Camiseta', 80);

-- -- Tabela de produtos
-- CREATE TABLE IF NOT EXISTS produtos (
--     id INT AUTO_INCREMENT PRIMARY KEY,
--     nome VARCHAR(100) NOT NULL,
--     preco DECIMAL(10, 2) NOT NULL,
--     descricao TEXT,
--     imagem VARCHAR(255),
--     categoria VARCHAR(50),
--     estoque INT DEFAULT 0,
--     created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
--     updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
-- ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- CREATE TABLE IF NOT EXISTS planos (
--     id INT AUTO_INCREMENT PRIMARY KEY,
--     titulo VARCHAR(100) NOT NULL,
--     valor DECIMAL(10, 2) NOT NULL,
--     benficios VARCHAR(255) NOT NULL,
--     created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
--     updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
-- ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- Usuarios 
INSERT INTO usuarios (nome, email, senha, tipo) VALUES 
('Brenda', 'testeServidor@tecfit.com', '123456', 'admin');

INSERT INTO usuarios (nome, email, senha, tipo) VALUES 
('Duda', 'testeServidor2@tecfit.com', '123456', 'admin');

-- -- Planos
-- INSERT INTO planos (titulo, valor, benficios) VALUES
-- ('Plano Básico', 99.90, 'Acesso à academia durante o horário comercial; Uso das áreas comuns; Participação em aulas de grupo básicas.'),

-- ('Plano Premium', 149.90, 'Acesso 24 horas à academia; Uso das áreas comuns e equipamentos premium; Participação em todas as aulas de grupo; Avaliação física trimestral.'),

-- ('Plano VIP', 199.90, 'Acesso 24 horas à academia; Uso ilimitado das áreas comuns e equipamentos premium; Participação em todas as aulas de grupo; Avaliação física mensal; Sessões de personal trainer quinzenais.');

-- produtos

-- INSERT INTO produtos (nome, preco, descricao, imagem, categoria, estoque) VALUES
-- ('Regata Masculina', 99.90, 'Regata de treino masculina em tecido leve e respirável (tom de cinza claro), ideal para absorver o suor e proporcionar total liberdade de movimento.', 'https://github.com/mariamaed29/Projeto.Techfit/blob/main/ROUPAS/regata.png', 'roupas', 50),

-- ('Top Feminino', 49.90, 'Top Feminino feito em tecido leve e respirável, ideal para absorver o suor e proporcionar total liberdade de movimento.', 'https://github.com/mariamaed29/Projeto.Techfit/blob/main/ROUPAS/top.png', 'roupas', 50),

-- ('Bermuda Masculina de Treino', 89.90, 'Bermuda esportiva em tom de cinza chumbo com detalhes vibrantes.', 'https://github.com/mariamaed29/Projeto.Techfit/blob/main/ROUPAS/bermuda.png', 'roupas', 50),

-- ('Conjunto Fitness Feminino (Top e Legging)', 99.99, 'Conjunto de top e legging em tecido mescla cinza de alta performance.', 'https://github.com/mariamaed29/Projeto.Techfit/blob/main/ROUPAS/conjunto.png', 'roupas', 50),

-- ('Camiseta Masculina Esportiva', 65.90, 'Camiseta de treino masculina em tecido leve e respirável (tom de cinza escuro), ideal para absorver o suor e proporcionar total liberdade de movimento.', 'https://github.com/mariamaed29/Projeto.Techfit/blob/main/ROUPAS/camisa.png', 'roupas', 50),

-- ('Luvas de Treino', 39.90, 'Luvas de treino ergonômicas em preto e cinza com detalhes em branco, projetadas para oferecer máxima aderência, conforto e proteção durante os exercícios.', 'https://github.com/mariamaed29/Projeto.Techfit/blob/main/ROUPAS/luva.png', 'acessorios', 50),

-- ('Mochila Esportiva', 149.90, 'Mochila esportiva robusta na cor preta, design moderno e funcional, perfeita para transportar equipamentos de treino e itens pessoais.', 'https://github.com/mariamaed29/Projeto.Techfit/blob/main/ROUPAS/mochila.png', 'acessorios', 50),

-- ('Coqueteleira TechFit', 99.90, 'Coqueteleira TechFit criada para quem busca praticidade nos treinos.', 'https://github.com/mariamaed29/Projeto.Techfit/blob/main/ROUPAS/coqueteleira.png', 'acessorios', 50),

-- ('Barra de Proteína - Morango', 12.90, 'Barra de proteína com 20g por unidade. Recheio natural de morango com chocolate ao leite.', 'https://github.com/mariamaed29/Projeto.Techfit/blob/main/ROUPAS/barra_morango.png', 'suplementos', 50),

-- ('Barra de Proteína - Chocolate & Pistache', 12.90, 'Versão premium com 20g de proteína por unidade. Cobertura de chocolate e pistache.', 'https://github.com/mariamaed29/Projeto.Techfit/blob/main/ROUPAS/barra_pistache.png', 'suplementos', 50),

-- ('Barra Proteica – Sabor Baunilha', 12.90, 'Barra proteica com 20g por unidade, sabor suave de baunilha, recheio cremoso e cobertura de chocolate branco.', 'https://github.com/mariamaed29/Projeto.Techfit/blob/main/ROUPAS/barra_baunilha.png', 'suplementos', 50),

-- ('Barra Proteica – Sabor Chocolate & Morango', 12.90, 'Barra de proteína com 20g por unidade. Recheio de morango com chocolate ao leite.', 'https://github.com/mariamaed29/Projeto.Techfit/blob/main/ROUPAS/barra_chocolate.png', 'suplementos', 50),

-- ('Garrafa TechFit Premium', 73.90, 'Garrafa TechFit com design moderno em preto fosco, trava de segurança e acabamento em azul e verde neon.', 'https://github.com/mariamaed29/Projeto.Techfit/blob/main/ROUPAS/garrafa.png', 'acessorios', 50),

-- ('Creatina Monohidratada TechFit (300g)', 109.90, 'Creatina 100% pura para aumento de força, potência e desempenho, com alta absorção.', 'https://github.com/mariamaed29/Projeto.Techfit/blob/main/ROUPAS/creatina_normal.png', 'suplementos', 50),

-- ('Whey Protein 80% – Baunilha', 109.90, 'Whey com 80% de proteína pura, 5.2g de BCAAs e sabor de baunilha.', 'https://github.com/mariamaed29/Projeto.Techfit/blob/main/ROUPAS/whey_baunilha.png', 'suplementos', 50);


DROP DATABASE academia;
